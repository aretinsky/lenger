<!DOCTYPE html>
<html>
<head>
    <title>Добавить задание</title>
    <link rel="stylesheet" href="../css/index.css">
</head>
<body>

<h2>HTML Table</h2>
<table id="usersList">

</table>
<form action="#">
    <input id="author" placeholder="Фамилия и имя">
    <input id="task" placeholder="Задание">
    <input id="solution" placeholder="Ссылка на решение с github.com">
    <input id="difficult" placeholder="Уровень сложности">
    <button onclick="createTask()">Создать задание</button>
</form>

</body>
<script>
    /*   может быть потом буду жс использовать, поэтому закомментирую

    function searchTaskById() {
         var login = document.getElementById("taskId").value;
         var xhttp = new XMLHttpRequest();
         xhttp.onreadystatechange = function () {
             if (this.readyState == 4 && this.status == 200) {
                 var user = JSON.parse(this.responseText);
                 var html = '';
                 html = html + '<tr><td>' + task.author + '</td>\n' +
                     '        <td>' + user.name + '</td>\n' +
                     '        <td>' + user.login + '</td>\n' +
                     '        <td>' + user.email + '</td>' +
                     '        <td><button onclick="deleteUser(' + user.id + ')">Delete</button></td></tr>';
                 document.getElementById("usersList").innerHTML = html;
             }
         };
         xhttp.open("GET", "http://localhost:8080/users/findByLogin?login=" + login, true);
         xhttp.send();
     }


     function deleteUser(userId) {
         var xhttp = new XMLHttpRequest();
         xhttp.open("GET", "http://localhost:8080/users/delete/" + userId, true);
         xhttp.send();
     }

     function createUser() {
         var author = document.getElementById("author").value;
         var task = document.getElementById("task").value;
         var solution = document.getElementById("solution").value;
         var difficult = document.getElementById("difficult").value;

         var xmlhttp = new XMLHttpRequest();   // new HttpRequest instance
         xmlhttp.open("POST", "http://localhost:8080/tasks/save");
         xmlhttp.setRequestHeader("Content-Type", "application/json");
         xmlhttp.send(JSON.stringify({
             id: null,
             author: author,
             task: task,
             solution: solution,
             success_count: null,
             attempts: null,
             difficult: difficult
         }));

         loadTasks();
     }

     function loadTasks() {
         var xhttp = new XMLHttpRequest();
         xhttp.onreadystatechange = function () {
             if (this.readyState == 4 && this.status == 200) {
                 var users = JSON.parse(this.responseText);
                 var html = '<tr>\n' +
                     '        <th>User id</th>\n' +
                     '        <th>User name</th>\n' +
                     '        <th>User login</th>\n' +
                     '        <th>User email</th>\n' +
                     '        <th>Delete</th>\n' +
                     '    </tr>';
                 for (var i = 0; i < users.length; i++) {
                     var user = users[i];
                     console.log(user);
                     html = html + '<tr><td>' + user.id + '</td>\n' +
                         '        <td>' + user.name + '</td>\n' +
                         '        <td>' + user.login + '</td>\n' +
                         '        <td>' + user.email + '</td>' +
                         '        <td><button onclick="deleteUser(' + user.id + ')">Delete</button></td></tr>';

                 }
                 document.getElementById("usersList").innerHTML = html;
             }
         };
         xhttp.open("GET", "http://localhost:8080/users/findAll", true);
         xhttp.send();
     }

     loadUsers(); */</script>
</html>
